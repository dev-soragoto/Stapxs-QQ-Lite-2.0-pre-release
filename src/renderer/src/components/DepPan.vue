<!--
 * @FileDescription: 许可版权声明模板
 * @Author: Stapxs
 * @Date: 2024/04/22
 * @Version: 1.0
-->
 <!-- eslint-disable max-len -->

<template>
    <div class="main">
        <div v-if="type === undefined" class="ss-card power-by">
            <img src="@renderer/assets/img/Vue.png"
                alt="logo"
                class="logo">
            <span style="color: var(--color-font-2); font-size: 0.8rem">{{ $t('驱动自') }}</span>
            <span class="name">Vue.js</span>
            <div class="tech">
                <svg xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512">
                    <path d="M86.76,255a9.89,9.89,0,0,0,4.87-1.29,9.82,9.82,0,0,0,3.65-13.43c-16.46-28.56-17.81-52.12-7.45-70,14.26-24.57,53.61-33.65,105.27-24.29a9.86,9.86,0,0,0,11.45-7.9,9.84,9.84,0,0,0-7.93-11.44c-29.19-5.28-56-5.18-77.39.3-22.3,5.71-39,17.28-48.45,33.48-14,24.19-12.7,54.73,7.42,89.62A9.85,9.85,0,0,0,86.76,255Z" />
                    <path d="M361.61,143.73c32.24.42,52.61,9.31,62.79,26.86,14.21,24.48,2.52,62.81-31.27,102.52a9.82,9.82,0,0,0,7.51,16.18,9.88,9.88,0,0,0,7.52-3.46c19.12-22.47,32.35-45.54,38.25-66.71,6.14-22,4.43-42.21-5-58.38-13.8-23.78-40.13-36.15-79.59-36.67h-.14a9.83,9.83,0,0,0-.12,19.66Z" />
                    <path d="M326.47,414.89a9.88,9.88,0,0,0-13.5,3.35c-16.41,27.15-36.57,42.1-56.77,42.1-28.49,0-56-29.31-73.73-78.42A9.87,9.87,0,0,0,169.88,376a9.83,9.83,0,0,0-6,12.58c10,27.77,23.47,50.75,39,66.46,16.11,16.34,34.55,25,53.32,25,27.38,0,53.54-18.33,73.65-51.61a9.81,9.81,0,0,0-3.38-13.5Z" />
                    <path d="M431.7,338.54a32.14,32.14,0,0,0-29.9,44.33C360,402.37,282,387.66,209.93,346.25c-32.91-18.9-62.16-41.86-84.6-66.39a9.9,9.9,0,0,0-13.91-.65,9.8,9.8,0,0,0-.65,13.9c23.79,26,54.68,50.28,89.33,70.18,40.28,23.13,82.27,38.63,121.43,44.81a225.54,225.54,0,0,0,35,2.91c23.12,0,43-4.3,58.51-12.79a32.2,32.2,0,1,0,16.7-59.68Zm0,44.66a12.6,12.6,0,0,1-7.82-2.72,10,10,0,0,0-2.2-2.21,12.61,12.61,0,1,1,10,4.93Z" />
                    <path d="M82.09,338.59c.57-21.26,12.41-47,33.68-73.16,23.19-28.45,56.69-56,94.34-77.65,33.25-19.1,65.2-31.9,98.07-38.91a9.83,9.83,0,1,0-4.12-19.22c-34.85,7.43-68.78,21-103.79,41.09C116.09,219.09,59.9,289.88,62.46,343.9a32.32,32.32,0,1,0,19.63-5.31ZM80.3,383.2a12.5,12.5,0,1,1,12.59-12.5A12.56,12.56,0,0,1,80.3,383.2Z" />
                    <path d="M256.2,96.32a32.23,32.23,0,0,0,26.53-13.81c17.89,11.69,34,35,45.81,66.12,13,34.39,19.84,75.38,19.84,118.54,0,37.18-5.19,72.35-15,103.6a9.72,9.72,0,0,0,.66,7.49,9.82,9.82,0,0,0,5.8,4.84,9.89,9.89,0,0,0,12.34-6.44c10.42-33.14,15.93-70.34,15.93-109.49,0-47.17-7.77-91.77-22.47-129-14.41-36.48-34.13-62.4-57.14-75.16A32.3,32.3,0,1,0,256.2,96.32Zm0-44.66a12.5,12.5,0,1,1-12.59,12.5A12.56,12.56,0,0,1,256.2,51.66Z" />
                    <path d="M251,243.36h0a24.35,24.35,0,0,0,5.16,48.16,24.68,24.68,0,0,0,5.16-.55A24.36,24.36,0,1,0,251,243.36Z" />
                </svg>
                <svg width="206" height="231" viewBox="0 0 206 231"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M143.143 84C143.143 96.1503 133.293 106 121.143 106C108.992 106 99.1426 96.1503 99.1426 84C99.1426 71.8497 108.992 62 121.143 62C133.293 62 143.143 71.8497 143.143 84Z" />
                    <ellipse cx="84.1426" cy="147" rx="22"
                        ry="22" transform="rotate(180 84.1426 147)" />
                    <path d="M166.738 154.548C157.86 160.286 148.023 164.269 137.757 166.341C139.858 160.282 141 153.774 141 147C141 144.543 140.85 142.121 140.558 139.743C144.975 138.204 149.215 136.139 153.183 133.575C162.73 127.404 170.292 118.608 174.961 108.244C179.63 97.8797 181.207 86.3876 179.502 75.1487C177.798 63.9098 172.884 53.4021 165.352 44.8883C157.82 36.3744 147.99 30.2165 137.042 27.1546C126.095 24.0926 114.496 24.2568 103.64 27.6274C92.7839 30.998 83.1319 37.4317 75.8437 46.1553C74.9102 47.2727 74.0206 48.4216 73.176 49.5993C61.9292 50.8488 51.0363 54.0318 40.9629 58.9556C44.2417 48.4586 49.5653 38.6591 56.679 30.1442C67.0505 17.7298 80.7861 8.57426 96.2354 3.77762C111.685 -1.01901 128.19 -1.25267 143.769 3.10474C159.348 7.46215 173.337 16.2252 184.056 28.3411C194.775 40.457 201.767 55.4101 204.193 71.404C206.619 87.3978 204.374 103.752 197.73 118.501C191.086 133.25 180.324 145.767 166.738 154.548ZM41.9631 74.275L62.5557 76.8042C63.0459 72.813 63.9401 68.9018 65.2138 65.1274C57.0465 67.0016 49.2088 70.087 41.9631 74.275Z" />
                    <path d="M38.4045 76.4519C47.3493 70.6709 57.2677 66.6712 67.6171 64.6132C65.2774 70.9669 64 77.8343 64 85.0001C64 87.1434 64.1143 89.26 64.3371 91.3442C60.0093 92.8732 55.8533 94.9092 51.9599 97.4256C42.4128 103.596 34.8505 112.392 30.1816 122.756C25.5126 133.12 23.9357 144.612 25.6403 155.851C27.3449 167.09 32.2584 177.598 39.7906 186.112C47.3227 194.626 57.153 200.784 68.1003 203.846C79.0476 206.907 90.6462 206.743 101.502 203.373C112.359 200.002 122.011 193.568 129.299 184.845C130.237 183.722 131.131 182.567 131.979 181.383C143.235 180.114 154.132 176.91 164.205 171.962C160.929 182.49 155.596 192.319 148.464 200.856C138.092 213.27 124.357 222.426 108.907 227.222C93.458 232.019 76.9524 232.253 61.3736 227.895C45.7948 223.538 31.8055 214.775 21.0867 202.659C10.3679 190.543 3.37557 175.59 0.949823 159.596C-1.47592 143.602 0.768139 127.248 7.41237 112.499C14.0566 97.7497 24.8183 85.2327 38.4045 76.4519ZM163.062 156.711L163.062 156.711C162.954 156.773 162.846 156.835 162.738 156.897C162.846 156.835 162.954 156.773 163.062 156.711Z" />
                </svg>
                <svg height="2500"
                    preserveAspectRatio="xMidYMid"
                    width="2500"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 256 256.005"><path d="M39.863 54.115L.31 93.716l60.995 61.179L0 216.385l39.428 39.62 61.43-61.508 61.097 61.068 39.552-39.602z" /><path d="M140.517 154.896l-39.658 39.601 61.097 61.069 39.552-39.602z" /><path
                    d="M140.517 154.896l-39.658 39.601 15.267 15.182z"
                    fill-opacity=".2" /><path d="M194.57 100.985L256 39.478 216.43 0 155.02 61.384 93.917.31 54.365 39.913 216.01 201.761l39.552-39.602z" /><path d="M115.36 100.987l39.659-39.602L93.917.313 54.365 39.914z" /><path
                    d="M115.359 100.985l39.659-39.601-15.27-15.186z"
                    fill-opacity=".2" /></svg>
            </div>
        </div>
        <div class="dept-list" :style="type === undefined ? '' : 'width: 100%;'">
            <div v-if="type === undefined" class="ss-card info">
                <font-awesome-icon :icon="['fas', 'circle-info']" />
                <span id="deptLink">{{
                    $t('你可以在项目仓库的依赖关系图中找到大部分依赖，而这里列出了一些不由包管理管理的依赖。')
                }}</span>
            </div>
            <div v-else-if="type === 'service'" class="ss-card info">
                <font-awesome-icon :icon="['fas', 'circle-info']" />
                <span id="deptLink">{{
                    $t('Stapxs QQ Lite 依赖的部分服务允许自行部署，此处只提供服务的来源；不保证所使用的服务来自官方。')
                }}</span>
            </div>

            <div v-if="type === 'service'" class="dept">
                <div class="ss-card jump-card"
                    @click="openLink('https://lbs.amap.com/api/javascript-api/summary')">
                    <header>
                        <div />
                        <div>高德地图<span>定位消息预览服务</span></div>
                    </header>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
                <div v-if="backend.platform == 'web'"
                    class="ss-card jump-card"
                    @click="openLink('https://github.com/Stapxs/Stapxs-Web-API')">
                    <header>
                        <div />
                        <div>Stapxs Web API<span>{{ $t('基础链接预览服务') }}</span></div>
                    </header>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
                <template v-else>
                    <div class="ss-card jump-card"
                        @click="openLink('https://gitlab.com/Binaryify/NeteaseCloudMusicApi')">
                        <header>
                            <div />
                            <div>Netease Cloud Music API<span>{{ $t('网易云音乐预览信息服务') }}</span></div>
                        </header>
                        <font-awesome-icon :icon="['fas', 'angle-right']" />
                    </div>
                    <div class="ss-card jump-card"
                        @click="openLink('https://api.bilibili.com')">
                        <header>
                            <div />
                            <div>Bilibili API<span>{{ $t('Bilibili 预览信息服务') }}</span></div>
                        </header>
                        <font-awesome-icon :icon="['fas', 'angle-right']" />
                    </div>
                </template>
            </div>
            <div v-else class="dept">
                <div class="ss-card jump-card"
                    @click="openLink('https://lbs.amap.com/api/javascript-api/summary')">
                    <header>
                        <div />
                        <div>aMap<span>高德地图</span></div>
                    </header>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
                <div class="ss-card jump-card"
                    @click="openLink('https://github.com/Stapxs/Border-Card-UI/tree/js-bcui')">
                    <header>
                        <div />
                        <div>Border Card UI<span>bcui.js</span></div>
                    </header>
                    <div>Apache 2.0</div>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
                <div v-if="appClient.type == 'tauri'"
                    class="ss-card jump-card"
                    @click="openLink('https://github.com/deltachat/deltachat-desktop')">
                    <header>
                        <div />
                        <div>DeltaChat<span>user-notify crates</span></div>
                    </header>
                    <div>GPL 3.0</div>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
                <div class="ss-card jump-card"
                    @click="openLink('http://fontawesome.com')">
                    <header><div />Font Awesome</header>
                    <div>SIL OFL 1.1</div>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
                <div class="ss-card jump-card"
                    @click="openLink('https://github.com/koishijs/QFace')">
                    <header><div />QFace</header>
                    <div>MIT</div>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
                <div class="ss-card jump-card"
                    @click="openLink('https://github.com/SAWARATSUKI/KawaiiLogos')">
                    <header>
                        <div />
                        <div>ServiceLogos<span>vue.js logo</span></div>
                    </header>
                    <font-awesome-icon :icon="['fas', 'angle-right']" />
                </div>
            </div>
        </div>
    </div>
</template>

<script lang="ts">
    import { defineComponent } from 'vue'
    import { openLink } from '@renderer/function/utils/appUtil'
    import { runtimeData } from '@renderer/function/msg'
    import { backend } from '@renderer/runtime/backend'

    export default defineComponent({
        name: 'DepPan',
        props: [ 'type' ],
        data() {
            return {
                backend,
                appClient: backend,
                runtimeData: runtimeData,
                openLink: openLink
            }
        },
    })
</script>

<style scoped>
    .ss-card {
        background: var(--color-card-1);
    }

    .main {
        margin: -20px -20px 0 -20px;
        flex-direction: row;
        display: flex;
    }

    .power-by {
        margin-right: 20px;
        width: 25vw;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    .power-by > img {
        width: 100%;
    }
    .power-by span.name {
        font-size: 1.1rem;
        color: var(--color-main);
        margin-top: 3px;
        font-weight: bold;
    }
    .power-by > div.tech {
        margin-top: 20px;
        width: 100%;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        border-top: 2px solid var(--color-card-2);
        padding-top: 20px;
        border-radius: 7px;
    }
    .power-by > div.tech > svg {
        fill: var(--color-font-r);
        width: 25px;
        height: 25px;
        background: var(--color-main);
        border-radius: 100%;
        padding: 5px;
        margin-right: 10px;
    }

    .dept-list {
        width: 40vw;
    }

    .info > svg {
        color: var(--color-font);
        margin-right: 10px;
        margin-top: 5px;
        height: 1rem;
    }

    .dept {
        padding-top: 0 !important;
        flex-direction: column;
        margin-top: 10px;
        display: flex;
        height: 45vh;
        overflow-y: scroll;
        overflow-x: hidden;
        padding-right: 15px;

    }
    .info {
        min-height: unset;
        display: flex;
    }
    .dept > div {
        margin: 0 -5px 5px 0 !important;
        align-items: center;
        padding: 10px 20px;
    }
    .dept > div > header {
        color: var(--color-font);
        font-size: 0.8rem !important;
        display: flex;
        align-items: center;
    }
    .dept > div > svg {
        height: 15px;
    }
    .dept > div > header > div:not(:first-child) {
        display: flex;
        flex-direction: column;
    }
    .dept > div > header > div > span {
        font-size: 0.7rem;
        color: var(--color-font-2);
    }
    .dept > div > div {
        background: var(--color-main);
        padding: 4px 10px 3px 10px;
        color: var(--color-font-r);
        border-radius: 2rem;
        margin-right: 10px;
        font-size: 0.65rem;
    }
    .dept > div:not(:first-child) {
        margin-top: 10px;
    }

    @media (max-width: 700px) {
        .main {
            flex-wrap: wrap;
        }
        .main > div {
            width: 100%;
            margin-right: 0;
            margin-bottom: 20px;
        }
        .main > div:first-child {
            height: 25vh;
            margin-bottom: 10px;
        }
        .power-by > img {
            width: 60%;
        }
        .dept {
            max-height: 30vh;
            height: fit-content;
        }
    }
</style>
