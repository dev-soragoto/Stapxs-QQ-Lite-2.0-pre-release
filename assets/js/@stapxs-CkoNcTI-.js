import{a as y}from"./axios-ivHLpVbm.js";var g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function j(t){if(t.__esModule)return t;var i=t.default;if(typeof i=="function"){var e=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};e.prototype=i.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),e}var w={},h={},d=g&&g.__awaiter||function(t,i,e,n){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function p(r){try{l(n.next(r))}catch(f){c(f)}}function v(r){try{l(n.throw(r))}catch(f){c(f)}}function l(r){r.done?o(r.value):a(r.value).then(p,v)}l((n=n.apply(t,i||[])).next())})};Object.defineProperty(h,"__esModule",{value:!0});const m=y;class s{constructor(){}static getInstance(){return s.instance||(s.instance=new s),s.instance}initialize(i){this.config=i}trackPageView(i){return d(this,void 0,void 0,function*(){var e,n;const a={hostname:((e=this.config)===null||e===void 0?void 0:e.hostName)||window.location.hostname,language:navigator.language,referrer:document.referrer||"",screen:`${window.screen.width}x${window.screen.height}`,title:document.title,url:i||window.location.pathname,website:(n=this.config)===null||n===void 0?void 0:n.websiteId};this.sendData({payload:a,type:"event"})})}trackIdentify(){return d(this,arguments,void 0,function*(i={}){var e;if(!this.config)return;const n={hostname:((e=this.config)===null||e===void 0?void 0:e.hostName)||window.location.hostname,language:navigator.language,referrer:document.referrer||"",screen:`${window.screen.width}x${window.screen.height}`,title:document.title,url:window.location.pathname,website:this.config.websiteId,data:i};this.sendData({payload:n,type:"identify"})})}logEvent(i){return d(this,arguments,void 0,function*(e,n={}){var a;if(!this.config||!e)return;const o={hostname:((a=this.config)===null||a===void 0?void 0:a.hostName)||window.location.hostname,language:navigator.language,referrer:document.referrer||"",screen:`${window.screen.width}x${window.screen.height}`,title:document.title,url:window.location.pathname,website:this.config.websiteId,name:e,data:n};this.sendData({payload:o,type:"event"})})}sendData(i){return d(this,void 0,void 0,function*(){var e;const n=`${(e=this.config)===null||e===void 0?void 0:e.baseUrl}/api/send`;try{yield m.default.post(n,i)}catch(a){console.error("Error sending data:",a)}})}}h.default=s;Object.defineProperty(w,"__esModule",{value:!0});const u=h,b={initialize(t){u.default.getInstance().initialize(t)},trackEvent(t,i){u.default.getInstance().logEvent(t,i)},trackPageView(t){u.default.getInstance().trackPageView(t)},trackIdentify(t){u.default.getInstance().trackIdentify(t)}};var O=w.default=b;export{O as _,j as a,g as c,I as g};
